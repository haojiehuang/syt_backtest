#:kivy 1.10.0

#:import hex kivy.utils.get_color_from_hex

<LeftSelectableLabel>:
    # Draw a background to indicate selection
    halign: 'left'
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
<LeftRV>:
    viewclass: 'LeftSelectableLabel'
    LeftRecycleBoxLayout:
        default_size: None, dp(40)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: True
        touch_multiselect: True

<RightSelectableLabel>:
    halign: 'left'
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
<RightRV>:
    viewclass: 'RightSelectableLabel'
    RightRecycleBoxLayout:
        default_size: None, dp(40)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: True
        touch_multiselect: True

<SSelectFile>:
    filepath_id: filepath_id
    leftrv_id: leftrv_id
    rightrv_id: rightrv_id
    ensurebtn_id: ensurebtn_id
    closebtn_id: closebtn_id
    
    orientation: "vertical"
    size_hint: (1, 1)
    padding: 2
    
    canvas.before:
        Color:
            rgba: hex("#00142D")
        Rectangle:
            pos: self.pos
            size: self.size
    
    BoxLayout:
        size_hint: (1, .1)
        height: 40
        orientation: "horizontal"
        padding: 2
        
        SLabel:
            text: ""
            size_hint: (.02, 1)
        SLabel:
            text: "目錄:"
            color: hex("#FFFFFF")
            size_hint: (.08, 1)
            halign: 'right'            
        STextInput:
            id: filepath_id
            multiline: False
            size_hint: (.88, .8)
        SLabel:
            text: ""
            size_hint: (.02, 1)
    
    BoxLayout:
        size_hint: (1, .01)
    
    BoxLayout:
        size_hint: (1, .88)
        orientation: "horizontal"
        
        BoxLayout:
            size_hint: (.4, 1)
            canvas.before:
                Color:
                    rgba: hex("#00142D")
                Rectangle:
                    pos: self.pos
                    size: self.size
            
            LeftRV:
                id: leftrv_id
                size_hint: (1, 1)
                canvas.before:
                    Color:
                        rgba: hex("#000000")
                    Rectangle:
                        pos: self.pos
                        size: self.size
        
        BoxLayout:
            size_hint: (.1, 1)
            orientation: "vertical"
            
            BoxLayout:
                size_hint: (1, .27)
            
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "右移"
                    size_hint: (.9, 1)
                    on_release: root.toRight()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .02)
                
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "左移"
                    size_hint: (.9, 1)
                    on_release: root.toLeft()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .02)
                
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "刪除"
                    size_hint: (.9, 1)
                    on_release: root.deleteFiles()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .27)
        
        BoxLayout:
            size_hint: (.4, 1)
            canvas.before:
                Color:
                    rgba: hex("#00142D")
                Rectangle:
                    pos: self.pos
                    size: self.size
            
            RightRV:
                id: rightrv_id
                size_hint: (1, 1)
                canvas.before:
                    Color:
                        rgba: hex("#000000")
                    Rectangle:
                        pos: self.pos
                        size: self.size
        
        BoxLayout:
            size_hint: (.1, 1)
            orientation: "vertical"
            
            BoxLayout:
                size_hint: (1, .27)
            
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "排序"
                    size_hint: (.9, 1)
                    on_release: root.toSort()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .02)
            
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "上移"
                    size_hint: (.9, 1)
                    on_release: root.toUp()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .02)
                
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "下移"
                    size_hint: (.9, 1)
                    on_release: root.toDown()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .27)
    
    BoxLayout:
        size_hint: (1, .01)
        
    BoxLayout:
        size_hint: (1, .1)
        orientation: 'horizontal'
        
        BoxLayout:
            size_hint: (.2, 1)        
        SButton:
            id: ensurebtn_id
            text: '確定'
            size_hint: (.29, 1)
            halign: 'center'
            valign: 'middle'
        BoxLayout:
            size_hint: (.02, 1)
        SButton:
            id: closebtn_id
            text: '離開'
            size_hint: (.29, 1)
            halign: 'center'
            valign: 'middle'
        BoxLayout:
            size_hint: (.2, 1)