#:kivy 1.10.0

#:import hex kivy.utils.get_color_from_hex

<FieldSettingLabel>:
    halign: 'left'
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size

<FieldSettingRV>:
    viewclass: 'FieldSettingLabel'
    FieldSettingRecycleBoxLayout:
        default_size: None, dp(40)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        multiselect: False
        touch_multiselect: False

<SFieldSetting>:
    rightrv_id: rightrv_id
    ensurebtn_id: ensurebtn_id
    closebtn_id: closebtn_id
    
    orientation: "vertical"
    size_hint: (1, 1)
    padding: 2
    
    canvas.before:
        Color:
            rgba: hex("#00142D")
        Rectangle:
            pos: self.pos
            size: self.size
    
    BoxLayout:
        size_hint: (1, .89)
        orientation: "horizontal"
        
        BoxLayout:
            size_hint: (.8, 1)
            canvas.before:
                Color:
                    rgba: hex("#00142D")
                Rectangle:
                    pos: self.pos
                    size: self.size
            
            FieldSettingRV:
                id: rightrv_id
                size_hint: (1, 1)
                canvas.before:
                    Color:
                        rgba: hex("#000000")
                    Rectangle:
                        pos: self.pos
                        size: self.size
        
        BoxLayout:
            size_hint: (.2, 1)
            orientation: "vertical"
            
            BoxLayout:
                size_hint: (1, .19)
            
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "最上"
                    size_hint: (.9, 1)
                    on_release: root.toTop()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .02)
            
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "上移"
                    size_hint: (.9, 1)
                    on_release: root.toUp()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .02)
            
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "下移"
                    size_hint: (.9, 1)
                    on_release: root.toDown()
            
                BoxLayout:
                    size_hint: (.05, 1)

            BoxLayout:
                size_hint: (1, .02)
                
            BoxLayout:
                size_hint: (1, .14)
                orientation: "horizontal"
                
                BoxLayout:
                    size_hint: (.05, 1)
                    
                SButton:
                    text: "最下"
                    size_hint: (.9, 1)
                    on_release: root.toBottom()
            
                BoxLayout:
                    size_hint: (.05, 1)
            
            BoxLayout:
                size_hint: (1, .19)
    
    BoxLayout:
        size_hint: (1, .01)
        
    BoxLayout:
        size_hint: (1, .1)
        orientation: 'horizontal'
        
        BoxLayout:
            size_hint: (.2, 1)        
        SButton:
            id: ensurebtn_id
            text: '確定'
            size_hint: (.29, 1)
            halign: 'center'
            valign: 'middle'
        BoxLayout:
            size_hint: (.02, 1)
        SButton:
            id: closebtn_id
            text: '離開'
            size_hint: (.29, 1)
            halign: 'center'
            valign: 'middle'
        BoxLayout:
            size_hint: (.2, 1)